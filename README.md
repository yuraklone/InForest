# In Forest

Unityの仕様、またUnityを用いたゲーム制作の理解、
またサウンド職種志望としてUnityおよびCRI ADX2 LEを使用しての
サウンド実装を目的として制作した作品です。

複数の種類の木が群生しエリアごとに分かれたマップの中を、
プレーヤーは鹿となってマップを歩き、それぞれのエリアでの環境音が聞こえてくるような
作品となっています。


## 使用したツールなど
使用ツール
* Unity(ver.2022.3.62f1)
* VisualStudio
* CRI Atom Craft
* Logic Pro X
* DSP Motion
* DSP Action
* DSP Fantasy

使用アセット
* ithappy AnimalsFREE
* Pxltiger Fantasy landscape
* Red-Coders Low Poly Woods Life Style

その他使用効果音ライブラリ
* (株)プラスシグナル　効果音ライブラリ

## 制作にあたって

就職活動そのものへ入っていかなければいけないため、制作に充てられた時間自体は非常に少なく、
本位作品ではあくまで最低限のサウンドとBGMの制作を行い、UnityとCRI ADX2 LEでの音の鳴らし方、
Unity内での再生制御について理解を深めることを目的として制作しました。

## 作品のポイント

作品内で鳴らされるサウンドは大きく5つであり、
* プレーヤー(鹿)から鳴らされる足音
* 各木々が群生するエリアでの風によるざわめき音や生物の声などの環境音
* 設置されているオブジェクト、またそのオブジェクトの動作で鳴る効果音
* スタートやポーズなどでなるシステム上のSE音
* 各シーンのBGM

これらを実装していく中で特に環境音に関して鳴り方と発音制御に関して試行錯誤を重ねました。
Unityにおいては音の範囲を定義しその中で鳴らす、といった仕組みがないため、
コライダーで指定したエリアの中を音源であるAtomSourceが追従することで範囲内は
ほぼ一定で環境音が再生され、範囲外から出ると3Dポジショニング機能により減衰する、
という手法を採用しています。

また、この手法をそのまま適用すると追従させるとはいえAtomSourceはあくまで点音源なので、
プレイヤーに設置したAtomListenerとの位置関係に敏感になりパンニングが暴れまわってしまう、
という挙動が見られたため、距離減衰パラーメータの調整と、SourceおよびListenerの動きについて
線形補間を利用した追従の調整によって、パンニングが暴れまわる違和感を軽減にしています。

加えて上記の手法を何の制御もなく置いてしまうと、遠く離れて音が鳴っていない範囲用音源も、
コライダーの最近傍点から追従を続けて負荷が上がってしまうため、
追従のスクリプトとは別で距離制限によるSetActiveのtrue/falseで遠いエリアの環境音は
再生と追従をしないよう制御してしています。

また、プレイヤーの3人称視点移動に関して、調べても理想の動きのスクリプトがすぐに出てこなかったため、
複数のスクリプト例を参考に、WASDでカメラ基準の前後左右移動、マウスドラッグで視点移動の動作を独自に組みました。
(各最新はCameraController2.csとPlayerController3.cs)

## 反省と今後の制作について

* ループして常時発音する環境音の複数実装をすると同時発音数が増えていくため、重みづけやループの方法をより工夫するべき
* ポートフォリオとしてWebGL形態でのビルドを検討していたが、長尺のキュー複数の再生はWebGLには向かない
* 同Unityプロジェクトを複製し今度はWwiseでの同様の実装練習を検討中
